package mileage;

import java.util.HashMap;
import java.util.Map;

public class CityHelper {

	private Map<String, City> map = new HashMap<String, City>();

	// 得到具体有哪些城市
	public String[] getCityArray(String s) {
		String[] detail = s.split(" ");
		return detail;
	}

	// 得到每一行的里程数
	public String[] getMileageArray(String s) {
		String[] detail = s.split(" ");
		return detail;
	}

	// 得到城市数目
	public int getCityNum(String s) {
		String[] detail = s.split(" ");
		return detail.length - 1;
	}

	// 得到城市数目
	public int getCityNum() {

		return map.size();
	}

	// 增加城市
	public void addCity(String s) {

		CityHelper helper = new CityHelper();
		String cName;
		for (int i = 0; i < helper.getCityNum(s); i++) {
			cName = helper.getCityArray(s)[i];
			City c = new City(cName);
			map.put(cName, c);
		}

	}

	// 增加某一城市目的地及里程
	public void addDest(String cName, String cDetail, String mileage) {
		City city = map.get(cName);
		CityHelper cp = new CityHelper();
		for (int i = 0; i < cp.getCityNum(); i++) {
			city.addDest(cp.getCityArray(cDetail)[i], Integer.parseInt(cp.getMileageArray(mileage)[i]));
		}

	}

	// 获得某地到某地的里程
	public int getMileage(String line) {
		String[] array = line.split(" ");
		String city = array[0];
		String dest = array[1];
		return map.get(city).getMileage(dest);
	}
}
